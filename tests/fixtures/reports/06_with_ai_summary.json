{
  "schema_version": "3.0",
  "name": "pytest-aitest",
  "timestamp": "2026-02-02T18:14:37.078527Z",
  "duration_ms": 34464.62510005222,
  "mode": "simple",
  "dimensions": {
    "models": [],
    "prompts": [],
    "base_tests": [
      "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_city_comparison",
      "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_expected_failure",
      "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_forecast_query",
      "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_weather_lookup"
    ],
    "files": [
      "tests/integration/test_fixture_scenarios.py"
    ]
  },
  "summary": {
    "total": 4,
    "passed": 4,
    "failed": 0,
    "skipped": 0,
    "pass_rate": 100.0,
    "total_tokens": 4493,
    "total_cost_usd": 0.00330025,
    "total_tool_calls": 5,
    "token_stats": {
      "min": 662,
      "max": 1480,
      "avg": 1123
    },
    "cost_stats": {
      "min": 0.0003985,
      "max": 0.001259,
      "avg": 0.0008250625
    },
    "duration_stats": {
      "min": 5973.544100008439,
      "max": 10484.549400018295,
      "avg": 8616.156275013054
    }
  },
  "tests": [
    {
      "name": "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_weather_lookup",
      "outcome": "passed",
      "duration_ms": 9372.108100011246,
      "docstring": "Basic weather query.",
      "error_count": 0,
      "metadata": {
        "file": "tests/integration/test_fixture_scenarios.py"
      },
      "agent_result": {
        "success": true,
        "duration_ms": 4721.35080001317,
        "turns": [
          {
            "role": "user",
            "content": "What's the weather in Paris?",
            "tool_calls": []
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "name": "get_weather",
                "arguments": {
                  "city": "Paris"
                },
                "result": "{\"city\": \"Paris\", \"country\": \"France\", \"temperature_celsius\": 18, \"temperature_fahrenheit\": 64, \"humidity\": 65, \"conditions\": \"Partly cloudy\", \"wind_speed_kmh\": 12, \"wind_direction\": \"SW\"}",
                "duration_ms": 3.2217999978456646
              }
            ]
          },
          {
            "role": "assistant",
            "content": "Current weather in Paris, France:\n- Temperature: 18\u00b0C (64\u00b0F)\n- Conditions: Partly cloudy\n- Humidity: 65%\n- Wind: 12 km/h from the SW\n\nWould you like a forecast or any other details (rain chances, hourly outlook, etc.)?",
            "tool_calls": []
          }
        ],
        "token_usage": {
          "prompt": 882,
          "completion": 89,
          "total": 971
        },
        "cost_usd": 0.0003985,
        "final_response": "Current weather in Paris, France:\n- Temperature: 18\u00b0C (64\u00b0F)\n- Conditions: Partly cloudy\n- Humidity: 65%\n- Wind: 12 km/h from the SW\n\nWould you like a forecast or any other details (rain chances, hourly outlook, etc.)?",
        "tools_called": [
          "get_weather"
        ],
        "session_context_count": 0
      }
    },
    {
      "name": "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_forecast_query",
      "outcome": "passed",
      "duration_ms": 10484.549400018295,
      "docstring": "Multi-day forecast.",
      "error_count": 0,
      "metadata": {
        "file": "tests/integration/test_fixture_scenarios.py"
      },
      "agent_result": {
        "success": true,
        "duration_ms": 6289.028499973938,
        "turns": [
          {
            "role": "user",
            "content": "Give me a 3-day forecast for Tokyo",
            "tool_calls": []
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "name": "get_forecast",
                "arguments": {
                  "city": "Tokyo",
                  "days": 3
                },
                "result": "[{\"day\": 1, \"city\": \"Tokyo\", \"high_celsius\": 26, \"low_celsius\": 18, \"conditions\": \"Sunny\", \"precipitation_chance\": 20}, {\"day\": 2, \"city\": \"Tokyo\", \"high_celsius\": 27, \"low_celsius\": 19, \"conditions\": \"Partly cloudy\", \"precipitation_chance\": 30}, {\"day\": 3, \"city\": \"Tokyo\", \"high_celsius\": 28, \"low_celsius\": 20, \"conditions\": \"Cloudy\", \"precipitation_chance\": 40}]",
                "duration_ms": 2.8048999956808984
              }
            ]
          },
          {
            "role": "assistant",
            "content": "I fetched the 3-day forecast for Tokyo. Summary:\n\n- Day 1 \u2014 Sunny. High 26\u00b0C (79\u00b0F), Low 18\u00b0C (64\u00b0F). Precipitation chance: 20%.\n- Day 2 \u2014 Partly cloudy. High 27\u00b0C (81\u00b0F), Low 19\u00b0C (66\u00b0F). Precipitation chance: 30%.\n- Day 3 \u2014 Cloudy. High 28\u00b0C (82\u00b0F), Low 20\u00b0C (68\u00b0F). Precipitation chance: 40%.\n\nBrief tip: temperatures are warm \u2014 light layers are fine. Rain chance increases by day 3, so consider carrying a compact umbrella or light rain jacket. Would you like hourly details or an extended forecast?",
            "tool_calls": []
          }
        ],
        "token_usage": {
          "prompt": 972,
          "completion": 508,
          "total": 1480
        },
        "cost_usd": 0.001259,
        "final_response": "I fetched the 3-day forecast for Tokyo. Summary:\n\n- Day 1 \u2014 Sunny. High 26\u00b0C (79\u00b0F), Low 18\u00b0C (64\u00b0F). Precipitation chance: 20%.\n- Day 2 \u2014 Partly cloudy. High 27\u00b0C (81\u00b0F), Low 19\u00b0C (66\u00b0F). Precipitation chance: 30%.\n- Day 3 \u2014 Cloudy. High 28\u00b0C (82\u00b0F), Low 20\u00b0C (68\u00b0F). Precipitation chance: 40%.\n\nBrief tip: temperatures are warm \u2014 light layers are fine. Rain chance increases by day 3, so consider carrying a compact umbrella or light rain jacket. Would you like hourly details or an extended forecast?",
        "tools_called": [
          "get_forecast"
        ],
        "session_context_count": 0
      }
    },
    {
      "name": "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_city_comparison",
      "outcome": "passed",
      "duration_ms": 8634.423500014236,
      "docstring": "Compare two cities.",
      "error_count": 0,
      "metadata": {
        "file": "tests/integration/test_fixture_scenarios.py"
      },
      "agent_result": {
        "success": true,
        "duration_ms": 4747.55259999074,
        "turns": [
          {
            "role": "user",
            "content": "Which is warmer, Berlin or Sydney?",
            "tool_calls": []
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "name": "compare_weather",
                "arguments": {
                  "city1": "Berlin",
                  "city2": "Sydney"
                },
                "result": "{\"city1\": {\"city\": \"Berlin\", \"country\": \"Germany\", \"temperature_celsius\": 16, \"temperature_fahrenheit\": 61, \"humidity\": 72, \"conditions\": \"Overcast\", \"wind_speed_kmh\": 10, \"wind_direction\": \"N\"}, \"city2\": {\"city\": \"Sydney\", \"country\": \"Australia\", \"temperature_celsius\": 26, \"temperature_fahrenheit\": 79, \"humidity\": 60, \"conditions\": \"Sunny\", \"wind_speed_kmh\": 20, \"wind_direction\": \"SE\"}, \"temperature_difference_celsius\": 10, \"warmer_city\": \"Sydney\", \"humidity_difference\": 12}",
                "duration_ms": 2.31280000298284
              }
            ]
          },
          {
            "role": "assistant",
            "content": "Sydney is warmer. Current temperatures: Sydney 26\u00b0C (79\u00b0F) vs Berlin 16\u00b0C (61\u00b0F) \u2014 a difference of 10\u00b0C (18\u00b0F).\n\nDetails:\n- Sydney: 26\u00b0C, sunny, humidity 60%, wind 20 km/h SE.\n- Berlin: 16\u00b0C, overcast, humidity 72%, wind 10 km/h N.\n\nQuick tip: expect warm, sunny conditions in Sydney (sunscreen/hat); Berlin is cooler and cloudier (light jacket).",
            "tool_calls": []
          }
        ],
        "token_usage": {
          "prompt": 979,
          "completion": 401,
          "total": 1380
        },
        "cost_usd": 0.00104675,
        "final_response": "Sydney is warmer. Current temperatures: Sydney 26\u00b0C (79\u00b0F) vs Berlin 16\u00b0C (61\u00b0F) \u2014 a difference of 10\u00b0C (18\u00b0F).\n\nDetails:\n- Sydney: 26\u00b0C, sunny, humidity 60%, wind 20 km/h SE.\n- Berlin: 16\u00b0C, overcast, humidity 72%, wind 10 km/h N.\n\nQuick tip: expect warm, sunny conditions in Sydney (sunscreen/hat); Berlin is cooler and cloudier (light jacket).",
        "tools_called": [
          "compare_weather"
        ],
        "session_context_count": 0
      }
    },
    {
      "name": "tests/integration/test_fixture_scenarios.py::TestWithAISummary::test_expected_failure",
      "outcome": "passed",
      "duration_ms": 5973.544100008439,
      "docstring": "Test that intentionally fails for report variety.",
      "error_count": 0,
      "metadata": {
        "file": "tests/integration/test_fixture_scenarios.py"
      },
      "agent_result": {
        "success": true,
        "duration_ms": 2776.0705999971833,
        "turns": [
          {
            "role": "user",
            "content": "Get weather for Paris, then Tokyo, then compare them, then give me a 5-day forecast for the colder one",
            "tool_calls": []
          },
          {
            "role": "assistant",
            "content": "",
            "tool_calls": [
              {
                "name": "get_weather",
                "arguments": {
                  "city": "Paris"
                },
                "result": "{\"city\": \"Paris\", \"country\": \"France\", \"temperature_celsius\": 18, \"temperature_fahrenheit\": 64, \"humidity\": 65, \"conditions\": \"Partly cloudy\", \"wind_speed_kmh\": 12, \"wind_direction\": \"SW\"}",
                "duration_ms": 1.7694999987725168
              },
              {
                "name": "get_weather",
                "arguments": {
                  "city": "Tokyo"
                },
                "result": "{\"city\": \"Tokyo\", \"country\": \"Japan\", \"temperature_celsius\": 24, \"temperature_fahrenheit\": 75, \"humidity\": 70, \"conditions\": \"Sunny\", \"wind_speed_kmh\": 8, \"wind_direction\": \"E\"}",
                "duration_ms": 1.0745000035967678
              }
            ]
          }
        ],
        "token_usage": {
          "prompt": 416,
          "completion": 246,
          "total": 662
        },
        "cost_usd": 0.000596,
        "final_response": "",
        "tools_called": [
          "get_weather"
        ],
        "session_context_count": 0
      }
    }
  ],
  "insights": {
    "recommendation": {
      "configuration": "(analysis pending)",
      "summary": "AI analysis has not been run yet",
      "reasoning": "Run with --aitest-html to generate AI-powered insights",
      "alternatives": []
    },
    "failures": [],
    "mcp_feedback": [],
    "prompt_feedback": [],
    "skill_feedback": [],
    "optimizations": []
  }
}