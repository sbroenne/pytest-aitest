{# Header partial - report title, status, badges, metadata #}
<header class="report-header">
    <div style="display: flex; justify-content: space-between; align-items: flex-start; flex-wrap: wrap; gap: 1rem;">
        <div>
            <h1 style="display: flex; align-items: center; gap: 0.75rem;">
                ğŸ§ª {{ report.name }}
                {% if report.failed == 0 and report.passed > 0 %}
                <span class="header-status all-passed">âœ“ All Passed</span>
                {% elif report.failed > 0 %}
                <span class="header-status has-failures">âœ— {{ report.failed }} Failed</span>
                {% endif %}
            </h1>
            {% if report.dimensions and report.dimensions.files %}
            <div class="header-subtitle">
                {% for f in report.dimensions.files %}<a href="{{ to_file_url(f) }}" style="color: rgba(255,255,255,0.9); text-decoration: underline;">{{ f.split('/')[-1].split('\\')[-1] }}</a>{{ ', ' if not loop.last else '' }}{% endfor %}
            </div>
            {% endif %}
        </div>
        <div style="text-align: right; font-size: 0.8125rem; opacity: 0.85;">
            <div>{{ report.timestamp.strftime('%Y-%m-%d') }} at {{ report.timestamp.strftime('%H:%M:%S') }}</div>
            <div style="font-size: 1.125rem; font-weight: 600; margin-top: 0.25rem;">{{ "%.1f"|format(report.duration_ms / 1000) }}s</div>
        </div>
    </div>
    <div class="header-badges">
        <span class="header-badge">ğŸ“Š {{ report.tests | length }} test{{ 's' if report.tests | length != 1 else '' }}</span>
        {% if report.dimensions and report.dimensions.models | length > 1 %}
        <span class="header-badge">ğŸ¤– {{ report.dimensions.models | length }} models</span>
        {% elif report.dimensions and report.dimensions.models | length == 1 %}
        <span class="header-badge">ğŸ¤– {{ report.dimensions.models[0] }}</span>
        {% endif %}
        {% if report.dimensions and report.dimensions.prompts | length > 1 %}
        <span class="header-badge">ğŸ“ {{ report.dimensions.prompts | length }} prompts</span>
        {% endif %}
        {% if report.summary.total_cost_usd and report.summary.total_cost_usd > 0 %}
        <span class="header-badge">ğŸ’° {{ format_cost(report.summary.total_cost_usd) }}</span>
        {% endif %}
    </div>
</header>
